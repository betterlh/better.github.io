<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">


























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=6.7.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.7.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.7.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.7.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.7.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '6.7.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="正则表达式匹配网页//正则匹配函数：preg_match   preg_match_all1234567891011121314151617181920212223242526272829$str=&amp;lt;&amp;lt;&amp;lt;yfstr    &amp;lt;div id=&quot;mainNav&quot; class=&quot;clearfix&quot;&amp;gt;        &amp;lt;a href=&quot;index.php&quot;&amp;gt;首页&amp;lt">
<meta property="og:type" content="article">
<meta property="og:title" content="PHP正则表达式（续）">
<meta property="og:url" content="http://betterlh.github.io/2019/02/14/PHP正则表达式（续）/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="正则表达式匹配网页//正则匹配函数：preg_match   preg_match_all1234567891011121314151617181920212223242526272829$str=&amp;lt;&amp;lt;&amp;lt;yfstr    &amp;lt;div id=&quot;mainNav&quot; class=&quot;clearfix&quot;&amp;gt;        &amp;lt;a href=&quot;index.php&quot;&amp;gt;首页&amp;lt">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2019-02-14T15:46:42.153Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="PHP正则表达式（续）">
<meta name="twitter:description" content="正则表达式匹配网页//正则匹配函数：preg_match   preg_match_all1234567891011121314151617181920212223242526272829$str=&amp;lt;&amp;lt;&amp;lt;yfstr    &amp;lt;div id=&quot;mainNav&quot; class=&quot;clearfix&quot;&amp;gt;        &amp;lt;a href=&quot;index.php&quot;&amp;gt;首页&amp;lt">






  <link rel="canonical" href="http://betterlh.github.io/2019/02/14/PHP正则表达式（续）/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>PHP正则表达式（续） | Hexo</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hexo</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>About</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>Tags</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>Categories</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-schedule">

    
    
    
      
    

    

    <a href="/schedule/" rel="section"><i class="menu-item-icon fa fa-fw fa-calendar"></i> <br>Schedule</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://betterlh.github.io/2019/02/14/PHP正则表达式（续）/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lh">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">PHP正则表达式（续）

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-02-14 19:52:46 / Modified: 23:46:42" itemprop="dateCreated datePublished" datetime="2019-02-14T19:52:46+08:00">2019-02-14</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/PHP正则表达式/" itemprop="url" rel="index"><span itemprop="name">PHP正则表达式</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="正则表达式匹配网页"><a href="#正则表达式匹配网页" class="headerlink" title="正则表达式匹配网页"></a>正则表达式匹配网页</h1><p>//正则匹配函数：preg_match   preg_match_all<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">$str=<span class="string">&lt;&lt;&lt;yfstr</span></span><br><span class="line"><span class="string">    &lt;div id="mainNav" class="clearfix"&gt;</span></span><br><span class="line"><span class="string">        &lt;a href="index.php"&gt;首页&lt;/a&gt;</span></span><br><span class="line"><span class="string">        &lt;a href="category.php?id=3"&gt;GSM手机&lt;/a&gt;</span></span><br><span class="line"><span class="string">       &lt;a href="category.php?id=4"&gt;双模手机&lt;/a&gt;</span></span><br><span class="line"><span class="string">       &lt;a href="category.php?id=6"&gt;手机配件&lt;/a&gt;</span></span><br><span class="line"><span class="string">       &lt;a href="group_buy.php"&gt;团购</span></span><br><span class="line"><span class="string">       商品&lt;/a&gt;</span></span><br><span class="line"><span class="string">       &lt;a href="activity.php"&gt;优惠活动&lt;/a&gt;</span></span><br><span class="line"><span class="string">       &lt;a href="snatch.php"&gt;夺宝奇兵&lt;/a&gt;</span></span><br><span class="line"><span class="string">       &lt;a href="auction.php"&gt;拍卖活动&lt;/a&gt;</span></span><br><span class="line"><span class="string">       &lt;a href="exchange.php"&gt;积分商城&lt;/a&gt;</span></span><br><span class="line"><span class="string">       &lt;a href="message.php"&gt;留言板&lt;/a&gt;</span></span><br><span class="line"><span class="string">       &lt;a href="http://bbs.ecshop.com/"&gt;EC论坛&lt;/a&gt;</span></span><br><span class="line"><span class="string"> &lt;/div&gt;</span></span><br><span class="line"><span class="string">yfstr;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">"&lt;table width='900' border='1'&gt;"</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"&lt;tr&gt;&lt;th&gt;名称&lt;/th&gt;&lt;th&gt;URL地址&lt;/th&gt;&lt;th&gt;链接&lt;/th&gt;&lt;/tr&gt;"</span>;</span><br><span class="line"><span class="comment">//使用正则匹配</span></span><br><span class="line">preg_match_all(<span class="string">"/&lt;a href=\"(.*?)\".*?&gt;(.*?)&lt;\/a&gt;/s"</span>,$str,$a);</span><br><span class="line"><span class="keyword">foreach</span>($a[<span class="number">0</span>] <span class="keyword">as</span> $k=&gt;$v)&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"&lt;tr&gt;"</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"&lt;td&gt;&#123;$a[2][$k]&#125;&lt;/td&gt;"</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"&lt;td&gt;&#123;$a[1][$k]&#125;&lt;/td&gt;"</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"&lt;td&gt;&#123;$v&#125;&lt;/td&gt;"</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"&lt;/tr&gt;"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"&lt;/table&gt;"</span>;</span><br></pre></td></tr></table></figure></p>
<p>注:使用&lt;&lt;&lt; 这个是php定界符<br>使用格式:<br>&lt;&lt;&lt;EOF<br>…<br>EOF;<br>使用定界符无需给双引号增加转义字符,可以参考如下:<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$str=”/&lt;div id=\<span class="string">"mainNav\" class=\"clearfix\"&gt;/”;</span></span><br></pre></td></tr></table></figure></p>
<h1 id="正则的其他函数使用"><a href="#正则的其他函数使用" class="headerlink" title="正则的其他函数使用"></a>正则的其他函数使用</h1><p>//正则的其他函数使用：<br>//preg_quote – 转义正则表达式字符<br>//preg_split – 用正则表达式分割字符串<br>//preg_replace – 执行正则表达式的搜索和替换<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//1.preg_quote -- 转义正则表达式字符</span></span><br><span class="line"><span class="keyword">echo</span> preg_quote(<span class="string">"(abc)&#123;10&#125;"</span>,<span class="string">"'"</span>);<span class="comment">//在每个增则表达式语法的字符前增加一个反斜杠</span></span><br><span class="line"></span><br><span class="line">$s = <span class="string">"a&#123;4&#125;"</span>;</span><br><span class="line">preg_match(<span class="string">"/"</span>.preg_quote($s).<span class="string">"/"</span>,<span class="string">"werta&#123;4&#125;yu"</span>,$a);</span><br><span class="line">var_dump($a);</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">"&lt;br/&gt;"</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//2. preg_split -- 用正则表达式分割字符串</span></span><br><span class="line">$s = <span class="string">"12,34:56;784;35,67:897:65"</span>;</span><br><span class="line">$list = preg_split(<span class="string">"/[,:;]/"</span>,$s);</span><br><span class="line">var_dump($list);</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">"&lt;hr/&gt;"</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//3. preg_replace执行正则表达式的搜索和替换</span></span><br><span class="line"></span><br><span class="line">$s = <span class="string">"12,34:56;784;35,67:897:65"</span>;</span><br><span class="line"><span class="comment">//要求将上面的:,;都换成空格</span></span><br><span class="line"><span class="keyword">echo</span> preg_replace(<span class="string">"/[,;:]/"</span>,<span class="string">" "</span>,$s);</span><br><span class="line"></span><br><span class="line">$str = <span class="string">"&lt;ul style='color:red'&gt;</span></span><br><span class="line"><span class="string">            &lt;li&gt;aaaaa&lt;/li&gt;</span></span><br><span class="line"><span class="string">            &lt;li&gt;bbbbb&lt;/li&gt;</span></span><br><span class="line"><span class="string">            &lt;li&gt;ddddd&lt;/li&gt;</span></span><br><span class="line"><span class="string">            &lt;li&gt;eeeee&lt;/li&gt;</span></span><br><span class="line"><span class="string">        &lt;/ul&gt;"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//将上面字串中所有li标签中都添加一个b标签。</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">"&lt;hr/&gt;"</span>;</span><br><span class="line"><span class="keyword">echo</span> $str;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">"&lt;hr/&gt;"</span>;</span><br><span class="line"><span class="comment">//echo preg_replace("/&lt;li&gt;(.*?)&lt;\/li&gt;/","&lt;li&gt;&lt;b&gt;\\1&lt;/b&gt;&lt;/li&gt;",$str);</span></span><br><span class="line"><span class="comment">//echo preg_replace("/&lt;li&gt;(.*?)&lt;\/li&gt;/","&lt;li&gt;&lt;b&gt;\$1&lt;/b&gt;&lt;/li&gt;",$str);</span></span><br><span class="line"><span class="keyword">echo</span> preg_replace(<span class="string">"/&lt;li&gt;(.*?)&lt;\/li&gt;/"</span>,<span class="string">'&lt;li&gt;&lt;b&gt;$1&lt;/b&gt;&lt;/li&gt;'</span>,$str);</span><br></pre></td></tr></table></figure></p>
<h1 id="子存储-扩展"><a href="#子存储-扩展" class="headerlink" title="子存储(扩展)"></a>子存储(扩展)</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//子存储使用</span></span><br><span class="line">$date=<span class="string">"[2012-08-09],[2012,09-19],[2011/08,09],[2012/10/09],[2013,08,01]"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//将上面字串中合法的日期匹配出来</span></span><br><span class="line">preg_match_all(<span class="string">"/\[[0-9]&#123;4&#125;([\-,\/])[0-9]&#123;2&#125;\\1[0-9]&#123;2&#125;\]/"</span>,$date,$a);</span><br><span class="line">var_dump($a);</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">"&lt;hr/&gt;"</span>;</span><br><span class="line"></span><br><span class="line">$str = <span class="string">"&lt;ul </span></span><br><span class="line"><span class="string">style='color:red'&gt;&lt;br/&gt;</span></span><br><span class="line"><span class="string">            &lt;li&gt;aaaaa&lt;/li&gt;</span></span><br><span class="line"><span class="string">            &lt;li&gt;bbbbb&lt;/li&gt;</span></span><br><span class="line"><span class="string">            &lt;li&gt;ddddd&lt;/li&gt;</span></span><br><span class="line"><span class="string">            &lt;li&gt;eeeee&lt;/li&gt;</span></span><br><span class="line"><span class="string">        &lt;/ul&gt;"</span>;</span><br><span class="line"><span class="comment">//将上面字串中的html标记删除掉(替换空)</span></span><br><span class="line"><span class="keyword">echo</span>  preg_replace(<span class="string">"/&lt;\/?.*?\/?&gt;/s"</span>,<span class="string">""</span>,$str);</span><br></pre></td></tr></table></figure>
<h1 id="附录-常用正则表达式"><a href="#附录-常用正则表达式" class="headerlink" title="附录  常用正则表达式"></a>附录  常用正则表达式</h1><pre><code>^\d+$  \d 是代表0-9  $必须要以....结束  这是代表非负整数　  正则表达式

平时做网站经常要用正则表达式，下面是一些讲解和例子，仅供大家参考和修改使用： 
&quot;^\d+$&quot;　　//非负整数（正整数 + 0） 
&quot;^[0-9]*[1-9][0-9]*$&quot;　　//正整数 
&quot;^((-\d+)|(0+))$&quot;　　//非正整数（负整数 + 0） 
&quot;^-[0-9]*[1-9][0-9]*$&quot;　　//负整数 
&quot;^-?\d+$&quot;　　　　//整数 
&quot;^\d+(\.\d+)?$&quot;　　//非负浮点数（正浮点数 + 0） 
&quot;^(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*))$&quot;　　//正浮点数 
&quot;^((-\d+(\.\d+)?)|(0+(\.0+)?))$&quot;　　//非正浮点数（负浮点数 + 0） 
&quot;^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$&quot;　　//负浮点数 
&quot;^(-?\d+)(\.\d+)?$&quot;　　//浮点数 
&quot;^[A-Za-z]+$&quot;　　//由26个英文字母组成的字符串 
&quot;^[A-Z]+$&quot;　　//由26个英文字母的大写组成的字符串 
&quot;^[a-z]+$&quot;　　//由26个英文字母的小写组成的字符串 
&quot;^[A-Za-z0-9]+$&quot;　　//由数字和26个英文字母组成的字符串 
&quot;^\w+$&quot;　　//由数字、26个英文字母或者下划线组成的字符串 
&quot;^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$&quot;　　　　//email地址 
&quot;^[a-zA-z]+://(\w+(-\w+)*)(\.(\w+(-\w+)*))*(\?\S*)?$&quot;　　//url 
/^(d{2}|d{4})-((0([1-9]{1}))|(1[1|2]))-(([0-2]([1-9]{1}))|(3[0|1]))$/ // 年-月-日 
/^((0([1-9]{1}))|(1[1|2]))/(([0-2]([1-9]{1}))|(3[0|1]))/(d{2}|d{4})$/ // 月/日/年 
&quot;^([w-.]+)@(([[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}.)|(([w-]+.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(]?)$&quot; //Emil 
/^((\+?[0-9]{2,4}\-[0-9]{3,4}\-)|([0-9]{3,4}\-))?([0-9]{7,8})(\-[0-9]+)?$/ //电话号码 
&quot;^(d{1,2}|1dd|2[0-4]d|25[0-5]).(d{1,2}|1dd|2[0-4]d|25[0-5]).(d{1,2}|1dd|2[0-4]d|25[0-5]).(d{1,2}|1dd|2[0-4]d|25[0-5])$&quot; //IP地址 
匹配中文字符的正则表达式： [\u4e00-\u9fa5] 
匹配双字节字符(包括汉字在内)：[^\x00-\xff] 
匹配空行的正则表达式：\n[\s| ]*\r 
匹配HTML标记的正则表达式：/&lt;(.*)&gt;.*&lt;\/\1&gt;|&lt;(.*) \/&gt;/ 
匹配首尾空格的正则表达式：(^\s*)|(\s*$) 
匹配Email地址的正则表达式：\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)* 
匹配网址URL的正则表达式：^[a-zA-z]+://([url=file://\\w+(-\\w+)*)(\\.(\\w+(-\\w+)*))*(\\?\\S*)?$]\\w+(-\\w+)*)(\\.(\\w+(-\\w+)*))*(\\?\\S*)?$[/url] 
匹配帐号是否合法(字母开头，允许5-16字节，允许字母数字下划线)：^[a-zA-Z][a-zA-Z0-9_]{4,15}$ 
匹配国内电话号码：(\d{3}-|\d{4}-)?(\d{8}|\d{7})? 
匹配腾讯QQ号：^[1-9]*[1-9][0-9]*$ 
</code></pre><p><br></p>
<pre><code>元字符及其在正则表达式上下文中的行为： 
\ 将下一个字符标记为一个特殊字符、或一个原义字符、或一个后向引用、或一个八进制转义符。 
^ 匹配输入字符串的开始位置。如果设置了 RegExp 对象的Multiline 属性，^ 也匹配 ’\n’ 或 ’\r’ 之后的位置。 
$ 匹配输入字符串的结束位置。如果设置了 RegExp 对象的Multiline 属性，$ 也匹配 ’\n’ 或 ’\r’ 之前的位置。 
* 匹配前面的子表达式零次或多次。 
+ 匹配前面的子表达式一次或多次。+ 等价于 {1,}。 
? 匹配前面的子表达式零次或一次。? 等价于 {0,1}。 
{n} n 是一个非负整数，匹配确定的n 次。 
{n,} n 是一个非负整数，至少匹配n 次。 
{n,m} m 和 n 均为非负整数，其中n &lt;= m。最少匹配 n 次且最多匹配 m 次。在逗号和两个数之间不能有空格。 
? 当该字符紧跟在任何一个其他限制符 (*, +, ?, {n}, {n,}, {n,m}) 后面时，匹配模式是非贪婪的。非贪婪模式尽可能少的匹配所搜索的字符串，而默认 
的贪婪模式则尽可能多的匹配所搜索的字符串。 
. 匹配除 &quot;\n&quot; 之外的任何单个字符。要匹配包括 ’\n’ 在内的任何字符，请使用象 ’[.\n]’ 的模式。 
(pattern) 匹配pattern 并获取这一匹配。 
(?:pattern) 匹配pattern 但不获取匹配结果，也就是说这是一个非获取匹配，不进行存储供以后使用。 
(?=pattern) 正向预查，在任何匹配 pattern 的字符串开始处匹配查找字符串。这是一个非获取匹配，也就是说，该匹配不需要获取供以后使用。 
(?!pattern) 负向预查，与(?=pattern)作用相反 
x|y 匹配 x 或 y。 
[xyz] 字符集合。 
[^xyz] 负值字符集合。 
[a-z] 字符范围，匹配指定范围内的任意字符。 
[^a-z] 负值字符范围，匹配任何不在指定范围内的任意字符。 
\b 匹配一个单词边界，也就是指单词和空格间的位置。 
\B 匹配非单词边界。 
\cx 匹配由x指明的控制字符。 
\d 匹配一个数字字符。等价于 [0-9]。 
\D 匹配一个非数字字符。等价于 [^0-9]。 
\f 匹配一个换页符。等价于 \x0c 和 \cL。 
\n 匹配一个换行符。等价于 \x0a 和 \cJ。 
\r 匹配一个回车符。等价于 \x0d 和 \cM。 
\s 匹配任何空白字符，包括空格、制表符、换页符等等。等价于[ \f\n\r\t\v]。 
\S 匹配任何非空白字符。等价于 [^ \f\n\r\t\v]。 
\t 匹配一个制表符。等价于 \x09 和 \cI。 
\v 匹配一个垂直制表符。等价于 \x0b 和 \cK。 
\w 匹配包括下划线的任何单词字符。等价于’[A-Za-z0-9_]’。 
\W 匹配任何非单词字符。等价于 ’[^A-Za-z0-9_]’。 
\xn 匹配 n，其中 n 为十六进制转义值。十六进制转义值必须为确定的两个数字长。 
\num 匹配 num，其中num是一个正整数。对所获取的匹配的引用。 
\n 标识一个八进制转义值或一个后向引用。如果 \n 之前至少 n 个获取的子表达式，则 n 为后向引用。否则，如果 n 为八进制数字 (0-7)，则 n 为一个 
八进制转义值。 
\nm 标识一个八进制转义值或一个后向引用。如果 \nm 之前至少有is preceded by at least nm 个获取得子表达式，则 nm 为后向引用。如果 \nm 之前至 
少有 n 个获取，则 n 为一个后跟文字 m 的后向引用。如果前面的条件都不满足，若 n 和 m 均为八进制数字 (0-7)，则 \nm 将匹配八进制转义值 nm。 
\nml 如果 n 为八进制数字 (0-3)，且 m 和 l 均为八进制数字 (0-7)，则匹配八进制转义值 nml。 
\un 匹配 n，其中 n 是一个用四个十六进制数字表示的Unicode字符。 

匹配中文字符的正则表达式： [\x{4e00}-\x{9fa5}] 
匹配双字节字符(包括汉字在内)：[^x00-xff] 
匹配空行的正则表达式：n[s| ]*r 
匹配HTML标记的正则表达式：/&lt;(.*)&gt;.*|&lt;(.*) /&gt;/ 
匹配首尾空格的正则表达式：(^s*)|(s*$) 
匹配Email地址的正则表达式：w+([-+.]w+)*@w+([-.]w+)*.w+([-.]w+)* 
匹配网址URL的正则表达式：[url=http://([w-]+.)+[w-]+(/[w]http://([w-]+.)+[w-]+(/[w[/url]- ./?%&amp;=]*)? 
利用正则表达式限制网页表单里的文本框输入内容： 
用正则表达式限制只能输入中文：onkeyup=&quot;value=value.replace(/[^u4E00-u9FA5]/g,&apos;&apos;)&quot; 
用正则表达式限制只能输入全角字符： 
用正则表达式限制只能输入数字：onkeyup=&quot;value=value.replace(/[^d]/g,&apos;&apos;) &quot;onbeforepaste=&quot;clipboardData.setData 
(&apos;text&apos;,clipboardData.getData(&apos;text&apos;).replace(/[^d]/g,&apos;&apos;))&quot; 
用正则表达式限制只能输入数字和英文：onkeyup=&quot;value=value.replace(/[W]/g,&apos;&apos;) &quot;onbeforepaste=&quot;clipboardData.setData 
(&apos;text&apos;,clipboardData.getData(&apos;text&apos;).replace(/[^d]/g,&apos;&apos;))&quot; 
</code></pre><p><br><br>    =========常用正则式 </p>
<pre><code>匹配中文字符的正则表达式： [\x{4e00}-\x{9fa5}]
匹配双字节字符(包括汉字在内)：[^\x00-\xff] 
匹配空行的正则表达式：\n[\s| ]*\r 
匹配HTML标记的正则表达式：/&lt;(.*)&gt;.*&lt;\/\1&gt;|&lt;(.*) \/&gt;/ 
匹配首尾空格的正则表达式：(^\s*)|(\s*$) 
匹配IP地址的正则表达式：/(\d+)\.(\d+)\.(\d+)\.(\d+)/g // 
匹配Email地址的正则表达式：\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)* 
匹配网址URL的正则表达式：[url=http://(/[\w-]+\.)+[\w-]+(/[\w]http://(/[\w-]+\.)+[\w-]+(/[\w[/url]- ./?%&amp;=]*)? 
sql语句：^(select|drop|delete|create|update|insert).*$ 
1、非负整数：^\d+$ 
2、正整数：^[0-9]*[1-9][0-9]*$ 
3、非正整数：^((-\d+)|(0+))$ 
4、负整数：^-[0-9]*[1-9][0-9]*$ 
5、整数：^-?\d+$ 
6、非负浮点数：^\d+(\.\d+)?$ 
7、正浮点数：^((0-9)+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*))$ 
8、非正浮点数：^((-\d+\.\d+)?)|(0+(\.0+)?))$ 
9、负浮点数：^(-((正浮点数正则式)))$ 
10、英文字符串：^[A-Za-z]+$ 
11、英文大写串：^[A-Z]+$ 
12、英文小写串：^[a-z]+$ 
13、英文字符数字串：^[A-Za-z0-9]+$ 
14、英数字加下划线串：^\w+$ 
15、E-mail地址：^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$ 
16、URL：^[a-zA-Z]+://(\w+(-\w+)*)(\.(\w+(-\w+)*))*(\?\s*)?$ 
或：^http:\/\/[A-Za-z0-9]+\.[A-Za-z0-9]+[\/=\?%\-&amp;_~`@[\]\&apos;:+!]*([^&lt;&gt;\&quot;\&quot;])*$ 
17、邮政编码：^[1-9]\d{5}$ 
18、中文：^[\u0391-\uFFE5]+$ 
19、电话号码：^((\(\d{2,3}\))|(\d{3}\-))?(\(0\d{2,3}\)|0\d{2,3}-)?[1-9]\d{6,7}(\-\d{1,4})?$ 
20、手机号码：^((\(\d{2,3}\))|(\d{3}\-))?13\d{9}$ 
21、双字节字符(包括汉字在内)：^\x00-\xff 
22、匹配首尾空格：(^\s*)|(\s*$)（像vbscript那样的trim函数） 
23、匹配HTML标记：&lt;(.*)&gt;.*&lt;\/\1&gt;|&lt;(.*) \/&gt; 
24、匹配空行：\n[\s| ]*\r 
25、提取信息中的网络链接：(h|H)(r|R)(e|E)(f|F) *= *(&apos;|&quot;)?(\w|\\|\/|\.)+(&apos;|&quot;| *|&gt;)? 
26、提取信息中的邮件地址：\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)* 
27、提取信息中的图片链接：(s|S)(r|R)(c|C) *= *(&apos;|&quot;)?(\w|\\|\/|\.)+(&apos;|&quot;| *|&gt;)? 
28、提取信息中的IP地址：(\d+)\.(\d+)\.(\d+)\.(\d+) 
29、提取信息中的中国手机号码：(86)*0*13\d{9} 
30、提取信息中的中国固定电话号码：(\(\d{3,4}\)|\d{3,4}-|\s)?\d{8} 
31、提取信息中的中国电话号码（包括移动和固定电话）：(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14} 
32、提取信息中的中国邮政编码：[1-9]{1}(\d+){5} 
33、提取信息中的浮点数（即小数）：(-?\d*)\.?\d+ 
34、提取信息中的任何数字 ：(-?\d*)(\.\d+)? 
35、IP：(\d+)\.(\d+)\.(\d+)\.(\d+) 
36、电话区号：/^0\d{2,3}$/ 
37、腾讯QQ号：^[1-9]*[1-9][0-9]*$ 
38、帐号(字母开头，允许5-16字节，允许字母数字下划线)：^[a-zA-Z][a-zA-Z0-9_]{4,15}$ 
39、中文、英文、数字及下划线：^[\u4e00-\u9fa5_a-zA-Z0-9]+$
</code></pre><p><hr><br>资料摘自：<a href="http://www.cnblogs.com/yafei236/p/4168290.html" target="_blank" rel="noopener">http://www.cnblogs.com/yafei236/p/4168290.html</a></p>

      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/02/14/PHP正则表达式/" rel="next" title="PHP正则表达式">
                <i class="fa fa-chevron-left"></i> PHP正则表达式
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/02/15/PHP基础12-cookie与session/" rel="prev" title="PHP基础12-cookie与session">
                PHP基础12-cookie与session <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">lh</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">40</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">4</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
            </nav>
          

          

          

          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#正则表达式匹配网页"><span class="nav-number">1.</span> <span class="nav-text">正则表达式匹配网页</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#正则的其他函数使用"><span class="nav-number">2.</span> <span class="nav-text">正则的其他函数使用</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#子存储-扩展"><span class="nav-number">3.</span> <span class="nav-text">子存储(扩展)</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#附录-常用正则表达式"><span class="nav-number">4.</span> <span class="nav-text">附录  常用正则表达式</span></a></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">lh</span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v6.7.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=6.7.0"></script>

  <script src="/js/src/motion.js?v=6.7.0"></script>



  
  


  <script src="/js/src/affix.js?v=6.7.0"></script>

  <script src="/js/src/schemes/pisces.js?v=6.7.0"></script>



  
  <script src="/js/src/scrollspy.js?v=6.7.0"></script>
<script src="/js/src/post-details.js?v=6.7.0"></script>



  


  <script src="/js/src/bootstrap.js?v=6.7.0"></script>



  



  











  





  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
